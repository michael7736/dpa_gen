# AAG 智能分析引擎使用手册

## 📖 目录

1. [系统概述](#系统概述)
2. [快速开始](#快速开始)
3. [界面介绍](#界面介绍)
4. [核心功能](#核心功能)
5. [使用指南](#使用指南)
6. [最佳实践](#最佳实践)
7. [常见问题](#常见问题)
8. [技术支持](#技术支持)

---

## 系统概述

### 什么是AAG？

AAG（Analysis-Augmented Generation）智能分析引擎是DPA智能知识引擎的核心组件，采用类似VSCode的三栏布局设计，为用户提供高效的文档分析和智能问答体验。

### 核心价值

- 📁 **统一文件管理** - 集中管理项目中的所有文档资源
- 📄 **智能文档分析** - 基于AI的文档理解和内容提取
- 🤖 **上下文问答** - 结合文档内容的精准智能问答
- 🔄 **工作流支持** - 支持项目全生命周期的文档处理

### 适用场景

- 📚 **学术研究** - 文献分析、研究报告撰写
- 💼 **商业分析** - 市场调研、竞争分析
- 📊 **项目管理** - 需求分析、方案设计、项目规划
- 🎯 **知识管理** - 个人知识库构建和维护

---

## 快速开始

### 1. 系统要求

- 浏览器：Chrome 90+、Firefox 88+、Safari 14+
- 网络：稳定的互联网连接
- 分辨率：1280x720 或更高

### 2. 访问系统

1. 打开浏览器，访问：`http://localhost:8230`
2. 登录系统（如需要）
3. 选择或创建项目
4. 进入AAG页面：`http://localhost:8230/aag`

### 3. 首次使用

```
步骤1：选择项目
- 从项目列表中选择现有项目
- 或点击"新建项目"创建新项目

步骤2：上传文档
- 点击左侧文件浏览器中的"上传"按钮
- 选择要分析的文档（支持PDF、Word、Markdown等）

步骤3：开始分析
- 点击文档名称在中间区域打开
- 在右侧AI助手中创建新对话
- 开始提问和分析
```

---

## 界面介绍

### 整体布局

AAG采用现代化的三栏布局设计，类似VSCode的界面风格，经过专业优化：

```
┌─────────────────┬─────────────────────┬─────────────────┐
│   文件目录栏     │   文档查看器        │  AI对话区       │
│  (左侧 320px)   │   (中间自适应)      │  (右侧 384px)   │
│                │                    │                │
│ 🗂️ 项目文件     │ 📋 标签页栏        │ 🤖 AI助手       │
│ 📁 原始文件      │ ┌─────────────────┐ │ ➕ 新建对话     │
│ 📁 过程文档      │ │ 📄 文档内容区   │ │ 📋 对话列表     │
│ 📁 项目笔记      │ │                │ │ 💬 活跃对话     │
│ 📤 上传进度      │ │ 🔍 搜索 📐 工具 │ │ 📝 消息输入     │
│ 🔍 搜索框       │ └─────────────────┘ │                │
└─────────────────┴─────────────────────┴─────────────────┘
```

### 左侧文件目录栏 (320px)

#### 现代化设计特点
- **优雅的头部设计**：文件夹图标 + 渐变背景
- **直观的工具栏**：现代化按钮设计，悬停效果
- **智能搜索框**：圆角设计，实时搜索
- **卡片式文件项**：圆角边框，层次分明
- **动态上传进度**：渐变进度条，状态指示器

#### 文件分类结构

```
🗂️ 项目文件
├── 📁 原始文件 (上传的文档)
│   ├── 📄 研究报告.pdf
│   │   └── 📊 2.1 MB
│   ├── 📄 数据分析.xlsx
│   │   └── 📊 1.5 MB
│   └── 📄 技术文档.docx
│       └── 📊 850 KB
├── 📁 项目过程文档 (工作流产生的文档)
│   ├── 📁 需求分析
│   │   ├── 📄 用户需求分析.md
│   │   └── 📄 功能需求文档.md
│   ├── 📁 方案设计
│   │   ├── 📄 系统架构设计.md
│   │   └── 📄 技术方案.md
│   └── 📁 项目规划
│       ├── 📄 开发计划.md
│       └── 📄 里程碑规划.md
└── 📁 项目笔记 (系统和用户笔记)
    ├── 📄 技术调研笔记.md
    ├── 📄 会议记录.md
    └── 📄 个人总结.md
```

#### 功能按钮

| 按钮 | 功能 | 设计特点 |
|------|------|----------|
| ➕ | 新建 | 圆角设计，悬停阴影效果 |
| 📤 | 上传 | 支持拖拽，实时进度显示 |
| 🔄 | 刷新 | 动画效果，状态反馈 |
| 🔍 | 搜索 | 实时搜索，高亮匹配 |

### 中间文档查看器 (自适应宽度)

#### 现代化设计特点
- **优雅的标签页设计**：增加高度和内边距，蓝色激活状态
- **专业的工具栏**：灰色背景区分，组件化设计
- **舒适的内容区域**：浅灰背景，减少视觉疲劳
- **精美的空状态页面**：引导性设计，文件类型指示器

#### 标签页栏

```
┌─────────────────┬─────────────────┬─────────────────┐
│📄 报告.pdf ×    │📝 笔记.md ● ×   │                │
│   (激活状态)    │   (已修改)      │                │
└─────────────────┴─────────────────┴─────────────────┘
```

- **激活状态** - 蓝色背景，底部边框
- **×** - 关闭标签页，悬停显示
- **●** - 文档已修改（未保存）
- **过渡动画** - 平滑的切换效果

#### 工具栏

| 工具 | 图标 | 设计特点 |
|------|------|----------|
| 搜索 | 🔍 | 圆角输入框，实时搜索 |
| 编辑 | ✏️ | 切换按钮，状态高亮 |
| 缩放 | 🔍+ 🔍- | 组件化设计，白色背景 |
| 全屏 | 🔲 | 悬停阴影效果 |
| 下载 | 📥 | 现代化图标，过渡动画 |
| 打印 | 🖨️ | 统一的视觉风格 |

#### 空状态页面

```
┌─────────────────────────────────┐
│        🗂️ 文件图标              │
│                                │
│     选择一个文件来查看          │
│                                │
│ 从左侧文件列表中选择要查看的文档 │
│     或者上传新的文档开始分析     │
│                                │
│ 🔴 PDF  🔵 Markdown  🟢 Word   │
└─────────────────────────────────┘
```

### 右侧AI对话区 (384px)

#### 现代化设计特点
- **渐变头部设计**：机器人头像 + 蓝色渐变背景
- **卡片式对话列表**：悬停效果，状态标签
- **流畅的消息界面**：清晰的用户/AI区分
- **智能输入区域**：工具按钮，字符计数

#### 对话管理

```
┌─────────────────────────────────┐
│ 🤖 AI助手              ⚙️ ✖️   │
│                                │
│ ➕ 新建对话                     │
├─────────────────────────────────┤
│ 💬 项目规划讨论          2 条消息 │
│ 💬 技术方案分析          5 条消息 │
│ 💬 需求梳理             3 条消息 │
├─────────────────────────────────┤
│ 📄 当前文档: 研究报告.pdf        │
├─────────────────────────────────┤
│ 👤 用户：...                   │
│ 🤖 AI：...                     │
├─────────────────────────────────┤
│ 输入框              📎 🎤 📤   │
│ Enter发送 Shift+Enter换行  0/1000│
└─────────────────────────────────┘
```

#### 对话功能

- **多会话管理** - 每个对话专注特定任务，卡片式设计
- **上下文理解** - 结合当前查看的文档内容，智能提示
- **智能建议** - 基于文档内容的分析建议
- **历史记录** - 完整的对话历史保存，支持导出
- **工具支持** - 文档附件、语音输入、消息发送
- **状态反馈** - 打字指示器，消息计数，字符限制

---

## 核心功能

### 1. 文档管理

#### 文件上传

**支持格式：**
- PDF文档 (.pdf) - 🔴 红色标识
- Word文档 (.doc, .docx) - 🟢 绿色标识
- Markdown文档 (.md) - 🔵 蓝色标识
- 纯文本文档 (.txt) - ⚫ 灰色标识
- Excel表格 (.xlsx, .csv) - 🟡 黄色标识

**上传方式：**
1. 点击上传按钮选择文件（现代化圆角按钮）
2. 拖拽文件到文件列表区域（视觉反馈）
3. 通过API批量上传（支持并发）

**上传体验优化：**
- 🔄 实时进度显示：渐变进度条 + 百分比
- 📊 状态指示器：上传中、处理中、完成、错误
- 🎯 智能重试：网络错误自动重试
- 📱 响应式设计：适配不同屏幕尺寸

#### 文件组织

**自动分类：**
- 根据文件类型自动归类（智能识别）
- 支持自定义分类标签（颜色编码）
- 智能重命名建议（AI辅助）

**文件夹管理：**
- 创建多级文件夹结构（树形展示）
- 文件夹展开/收起状态保持（本地存储）
- 批量移动和整理（拖拽支持）
- 🔍 实时搜索：文件名和内容搜索
- 📋 右键菜单：下载、删除、重命名等操作

### 2. 文档查看

#### 多格式支持

**PDF文档：**
- 高清渲染显示（矢量化支持）
- 页面导航和缩放（50%-200%）
- 文本选择和复制（智能识别）
- 书签和注释支持（持久化存储）
- 🖼️ 预览模式：专业的PDF查看器界面

**Markdown文档：**
- 实时预览模式（双窗格显示）
- 语法高亮编辑（代码块支持）
- 表格和图片支持（拖拽上传）
- 数学公式渲染（LaTeX支持）
- ✏️ 编辑模式：所见即所得编辑器

**Word文档：**
- 格式保持显示（样式兼容）
- 图表和表格支持（交互式）
- 批注和修订显示（版本控制）
- 🎨 现代化界面：清晰的层次结构

#### 查看功能

**搜索功能：**
- 全文搜索（实时搜索）
- 关键词高亮（智能匹配）
- 搜索结果导航（上下翻页）
- 正则表达式支持（高级搜索）
- 🔍 搜索计数：显示匹配结果数量

**显示控制：**
- 缩放：50%-200%（组件化控制）
- 全屏模式（沉浸式体验）
- 深色/浅色主题（系统适配）
- 字体大小调整（无障碍支持）
- 🎯 工具栏：现代化的控制面板

### 3. AI智能问答

#### 问答能力

**基础问答：**
- 文档内容问答（上下文理解）
- 关键信息提取（智能标注）
- 概念解释说明（知识图谱）
- 数据分析总结（结构化输出）

**高级分析：**
- 文档结构分析（层次识别）
- 逻辑关系梳理（思维导图）
- 趋势和模式识别（AI洞察）
- 对比和关联分析（跨文档分析）

#### 对话管理

**多会话支持：**
- 按任务创建对话（智能命名）
- 会话历史保存（云端同步）
- 上下文连续性（记忆管理）
- 会话导出功能（多种格式）
- 💬 卡片式设计：清晰的对话界面

**智能建议：**
- 基于文档的问题建议（AI推荐）
- 分析方向推荐（个性化）
- 相关文档推荐（关联分析）
- 深度分析建议（专业指导）
- 🤖 智能提示：实时输入建议

**用户体验优化：**
- 🎨 现代化界面：渐变头部 + 机器人头像
- 📱 响应式设计：适配不同屏幕尺寸
- ⚡ 实时反馈：打字指示器 + 状态显示
- 🔧 工具支持：文档附件、语音输入
- 📊 使用统计：消息计数、字符限制

---

## 使用指南

### 基础操作流程

#### 1. 文档上传和整理

```
步骤1：准备文档
- 整理要分析的文档
- 确保文档格式正确
- 检查文档完整性

步骤2：上传文档
- 点击左侧"上传"按钮
- 选择文档类型分类
- 等待上传完成

步骤3：文档分类
- 拖拽文档到合适文件夹
- 添加描述性标签
- 设置访问权限（如需要）
```

#### 2. 文档查看和分析

```
步骤1：打开文档
- 在左侧文件列表中点击文档名
- 文档在中间区域打开
- 可同时打开多个文档

步骤2：浏览文档
- 使用滚动条浏览内容
- 使用搜索功能查找关键信息
- 调整缩放比例适应阅读

步骤3：标记重点
- 选择重要文本
- 添加书签和注释
- 复制关键信息
```

#### 3. AI对话分析

```
步骤1：创建对话
- 点击"新建对话"按钮
- 给对话起一个描述性名称
- 选择分析的主要文档

步骤2：提问分析
- 在输入框中输入问题
- 问题要具体明确
- 等待AI分析回答

步骤3：深入讨论
- 基于回答继续提问
- 要求详细解释
- 进行对比分析
```

### 进阶使用技巧

#### 1. 高效的文件管理

**命名规范：**
```
原始文件：
- 【类型】文档名_版本_日期.扩展名
- 例：【报告】市场分析_v1.2_20240115.pdf

过程文档：
- 【阶段】文档名_负责人_日期.md
- 例：【需求】用户需求分析_张三_20240115.md

项目笔记：
- 【笔记】主题_记录人_日期.md
- 例：【笔记】技术调研_李四_20240115.md
```

**文件夹结构：**
```
📁 项目文件
├── 📁 01_原始文件
│   ├── 📁 研究报告
│   ├── 📁 数据文件
│   └── 📁 参考资料
├── 📁 02_过程文档
│   ├── 📁 需求分析
│   ├── 📁 方案设计
│   ├── 📁 项目规划
│   └── 📁 测试文档
└── 📁 03_项目笔记
    ├── 📁 会议记录
    ├── 📁 技术笔记
    └── 📁 个人总结
```

#### 2. 智能问答策略

**问题设计原则：**

1. **具体性原则**
   ```
   ❌ 差：这个文档讲什么？
   ✅ 好：这份市场分析报告的核心结论是什么？
   ```

2. **层次性原则**
   ```
   第一层：总体概述
   - 请总结这份报告的主要内容
   
   第二层：具体分析
   - 报告中提到的三个关键趋势分别是什么？
   
   第三层：深度挖掘
   - 这些趋势对我们的业务有什么具体影响？
   ```

3. **对比性原则**
   ```
   - 比较文档A和文档B的观点差异
   - 分析不同章节的论述逻辑
   - 对比历史数据和现状
   ```

#### 3. 工作流程优化

**项目分析流程：**

```
阶段1：信息收集
├── 上传相关文档
├── 分类整理资料
└── 创建项目结构

阶段2：初步分析
├── 创建"文档理解"对话
├── 逐个分析重要文档
└── 提取关键信息

阶段3：深度分析
├── 创建"深度分析"对话
├── 进行跨文档对比
└── 识别模式和趋势

阶段4：总结输出
├── 创建"总结报告"对话
├── 生成分析报告
└── 保存到项目笔记
```

---

## 最佳实践

### 1. 文档准备

#### 文档质量要求

**内容完整性：**
- 确保文档内容完整无缺失
- 图表和表格清晰可读
- 文字编码正确无乱码

**格式规范：**
- 使用标准文档格式
- 保持一致的排版风格
- 添加必要的元数据

#### 文档预处理

**PDF优化：**
- 使用OCR处理扫描文档
- 确保文本可选择和复制
- 压缩大文件提高加载速度

**Word文档：**
- 使用标准模板
- 避免复杂的格式设置
- 导出为PDF进行分析

### 2. 有效的问答技巧

#### 问题类型

**事实性问题：**
```
- 文档中提到的关键数据是什么？
- 报告的结论有哪些？
- 涉及的主要人物/机构有哪些？
```

**分析性问题：**
```
- 这个趋势的成因是什么？
- 不同观点之间的逻辑关系如何？
- 数据变化反映了什么问题？
```

**应用性问题：**
```
- 这些发现对我们的决策有什么启示？
- 如何将这些建议应用到实际工作中？
- 需要采取哪些具体行动？
```

#### 对话策略

**渐进式提问：**
```
1. 宏观理解：整体概述
2. 中观分析：关键要点
3. 微观深入：具体细节
4. 应用思考：实际价值
```

**多角度分析：**
```
- 时间维度：历史、现状、趋势
- 空间维度：全局、局部、对比
- 逻辑维度：原因、过程、结果
```

### 3. 项目管理

#### 版本控制

**文档版本：**
- 使用版本号标记文档
- 保留重要版本的历史记录
- 记录版本变更说明

**对话记录：**
- 定期导出重要对话
- 整理分析结果到文档
- 建立知识库索引

#### 协作规范

**文件共享：**
- 设置适当的访问权限
- 建立文件共享规范
- 定期同步和备份

**分工协作：**
- 明确分析任务分工
- 建立沟通协调机制
- 定期总结和分享

---

## 常见问题

### 技术问题

#### Q1：文档上传失败怎么办？

**A1：** 检查以下几点：
- 文件格式是否支持（PDF、Word、Markdown等）
- 文件大小是否超过限制（通常50MB以内）
- 网络连接是否稳定
- 浏览器是否支持（建议使用Chrome或Firefox）

**解决步骤：**
1. 刷新页面重新上传
2. 检查文件完整性
3. 尝试压缩文件大小
4. 联系技术支持

#### Q2：AI回答不准确或不相关？

**A2：** 可能的原因和解决方案：
- **文档质量问题**：确保文档内容清晰完整
- **问题不够具体**：重新设计更明确的问题
- **上下文不足**：提供更多背景信息
- **文档未选择**：确保已选择相关文档

#### Q3：页面加载缓慢？

**A3：** 优化建议：
- 清除浏览器缓存
- 关闭不必要的标签页
- 检查网络带宽
- 尝试在非高峰时段使用

### 使用问题

#### Q4：如何组织大量文档？

**A4：** 推荐策略：
1. **按项目阶段分类**：需求、设计、开发、测试
2. **按文档类型分类**：报告、数据、参考资料
3. **按重要程度分类**：核心文档、辅助文档
4. **使用标签系统**：添加关键词标签

#### Q5：如何提高AI分析效果？

**A5：** 最佳实践：
1. **明确分析目标**：在提问前明确想要了解什么
2. **提供充分上下文**：描述分析的背景和目的
3. **使用结构化问题**：按逻辑顺序组织问题
4. **及时反馈调整**：根据回答调整后续问题

### 功能问题

#### Q6：支持哪些文档格式？

**A6：** 当前支持：
- **PDF文档**：.pdf
- **Word文档**：.doc、.docx
- **文本文档**：.txt、.md
- **表格文档**：.xlsx、.csv
- **图片文档**：.jpg、.png（OCR识别）

#### Q7：可以同时分析多个文档吗？

**A7：** 支持多文档分析：
1. 在文档查看器中打开多个标签页
2. 在AI对话中引用多个文档
3. 进行跨文档对比分析
4. 生成综合分析报告

---

## 技术支持

### 联系方式

**在线支持：**
- 帮助文档：[链接到在线帮助]
- 视频教程：[链接到视频教程]
- 常见问题：[链接到FAQ]

**技术支持：**
- 邮箱：support@dpa.com
- 微信群：DPA用户交流群
- 技术论坛：[链接到技术论坛]

### 反馈建议

**问题报告：**
- 详细描述问题现象
- 提供错误截图或日志
- 说明重现步骤
- 提供系统环境信息

**功能建议：**
- 描述期望的功能
- 说明使用场景
- 提供改进建议
- 参与功能讨论

### 更新日志

**版本历史：**
- 查看功能更新记录
- 了解性能改进情况
- 获取新功能使用指南
- 关注安全更新通知

---

## 附录

### 键盘快捷键

**全局快捷键：**
- `Ctrl + K` - 打开命令面板
- `Ctrl + /` - 显示/隐藏快捷键帮助
- `Ctrl + Shift + F` - 全局搜索

**文档操作：**
- `Ctrl + O` - 打开文档
- `Ctrl + W` - 关闭当前标签
- `Ctrl + Tab` - 切换标签页
- `Ctrl + F` - 文档内搜索
- `Ctrl + +/-` - 缩放文档

**AI对话：**
- `Enter` - 发送消息
- `Shift + Enter` - 换行
- `Ctrl + ↑/↓` - 浏览历史输入
- `Ctrl + L` - 清空输入框

### 文件类型说明

**PDF文档：**
- 最佳分析格式
- 支持文本提取
- 保持原始排版
- 适合正式报告

**Word文档：**
- 支持格式识别
- 可提取结构信息
- 适合编辑修改
- 协作友好

**Markdown文档：**
- 轻量级格式
- 支持实时编辑
- 适合笔记记录
- 版本控制友好

### API接口

**文档上传API：**
```
POST /api/v1/documents/upload
Content-Type: multipart/form-data

参数：
- file: 文档文件
- project_id: 项目ID
- category: 文档分类
```

**AI问答API：**
```
POST /api/v1/qa/ask
Content-Type: application/json

参数：
- question: 问题内容
- document_id: 文档ID
- context: 上下文信息
```

---

*本手册将持续更新，请关注最新版本。如有疑问，请联系技术支持团队。*

**文档版本：** v1.0  
**最后更新：** 2024年1月15日  
**维护团队：** DPA开发团队